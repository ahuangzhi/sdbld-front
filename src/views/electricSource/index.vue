<template>
  <div class="electricSource">
    <div class="sub">
      <div class="title">储能堆</div>
      <div class="line">
        <div class="item">
          <div class="tit">电量</div>
          <div id="main1" class="box"></div>
        </div>
        <div class="item">
          <div class="tit">功率</div>
          <div id="main2" class="box"></div>
        </div>
        <div class="item">
          <div class="tit">价格</div>
          <div id="main3" class="box"></div>
        </div>
      </div>
    </div>
    <div class="sub">
      <div class="title">充电桩</div>
      <div class="line">
        <div class="item">
          <div class="tit">电量</div>
          <div id="main4" class="box"></div>
        </div>
        <div class="item">
          <div class="tit">功率</div>
          <div id="main5" class="box"></div>
        </div>
        <div class="item">
          <div class="tit">价格</div>
          <div id="main6" class="box"></div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: "electricSource",
  data() {
    return {
      timeArr: [],
    };
  },
  mounted() {
    for (let i = 0; i < 24; i++) {
      let time1 = i < 10 ? "0" + i + "点15分" : i + "点15分";
      let time2 = i < 10 ? "0" + i + "点30分" : i + "点30分";
      let time3 = i < 10 ? "0" + i + "点45分" : i + "点45分";
      this.timeArr.push(time1);
      this.timeArr.push(time2);
      this.timeArr.push(time3);
      if (i + 1 >= 24) {
        let time4 = "00点00分";
        this.timeArr.unshift(time4);
      } else if (i + 1 < 24) {
        let time4 = i + 1 < 10 ? "0" + (i + 1) + "点00分" : i + 1 + "点00分";
        this.timeArr.push(time4);
      }
    }

    this.myCharts1();
    this.myCharts2();
    this.myCharts3();
    this.myCharts4();
    this.myCharts5();
    this.myCharts6();
  },
  methods: {
    myCharts1() {
      let myChart = this.$echarts.init(document.getElementById("main1"));
      let option = {
        color: ["#9fdabf", "#e98f6f"],
        tooltip: {
          trigger: "item",
          formatter: "{a} <br/>{b} : {c} ({d}%)",
        },
        legend: {
          left: "center",
          top: "top",
          data: ["电网", "光伏"],
        },
        series: [
          {
            name: "电量来源",
            type: "pie",
            radius: "55%",
            center: ["50%", "60%"],
            data: [
              { value: 65, name: "电网" },
              { value: 35, name: "光伏" },
            ],
            emphasis: {
              itemStyle: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: "rgba(0, 0, 0, 0.5)",
              },
            },
          },
        ],
      };
      myChart.setOption(option);
    },
    myCharts2() {
      let myChart = this.$echarts.init(document.getElementById("main2"));
      let option = {
        color: ["#9fdabf", "#e98f6f"],
        tooltip: {
          trigger: "axis",
          axisPointer: {
            // 坐标轴指示器，坐标轴触发有效
            type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
          },
        },
        legend: {
          data: ["电网", "光伏"],
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        xAxis: {
          type: "category",
          axisTick: {
            show: false,
          },
          data: this.timeArr,
        },
        yAxis: {
          type: "value",
          axisTick: {
            show: false,
          },
        },
        series: [
          {
            name: "电网",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
            ],
          },
          {
            name: "光伏",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
            ],
          },
        ],
      };
      myChart.setOption(option);
    },
    myCharts3() {
      let myChart = this.$echarts.init(document.getElementById("main3"));
      let option = {
        color: ["#9fdabf", "#e98f6f", "#5b85a2", "#de9325"],
        tooltip: {
          trigger: "axis",
          axisPointer: {
            // 坐标轴指示器，坐标轴触发有效
            type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
          },
        },
        legend: {
          data: ["电网卖出", "光伏卖出", "电网买入", "光伏买入"],
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        xAxis: {
          type: "category",
          axisTick: {
            show: false,
          },
          data: this.timeArr,
        },
        yAxis: {
          type: "value",
          axisTick: {
            show: false,
          },
        },
        series: [
          {
            name: "电网卖出",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
            ],
          },
          {
            name: "光伏卖出",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
            ],
          },
          {
            name: "电网买入",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
              -334,
              -390,
              -330,
              -320,
              -320,
              -302,
              -301,
            ],
          },
          {
            name: "光伏买入",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
              -134,
              -90,
              -230,
              -210,
              -120,
              -132,
              -101,
            ],
          },
        ],
      };
      myChart.setOption(option);
    },
    myCharts4() {
      let myChart = this.$echarts.init(document.getElementById("main4"));
      let option = {
        color: ["#9fdabf", "#e98f6f", "#6ab0b8"],
        tooltip: {
          trigger: "item",
          formatter: "{a} <br/>{b} : {c} ({d}%)",
        },
        legend: {
          left: "center",
          top: "top",
          data: ["电网", "光伏", "储能堆"],
        },
        series: [
          {
            name: "电量来源",
            type: "pie",
            radius: "55%",
            center: ["50%", "60%"],
            data: [
              { value: 65, name: "电网" },
              { value: 35, name: "光伏" },
              { value: 15, name: "储能堆" },
            ],
            emphasis: {
              itemStyle: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: "rgba(0, 0, 0, 0.5)",
              },
            },
          },
        ],
      };
      myChart.setOption(option);
    },
    myCharts5() {
      let myChart = this.$echarts.init(document.getElementById("main5"));
      let option = {
        color: ["#9fdabf", "#e98f6f", "#6ab0b8"],
        tooltip: {
          trigger: "axis",
          axisPointer: {
            // 坐标轴指示器，坐标轴触发有效
            type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
          },
        },
        legend: {
          data: ["电网", "光伏", "储能堆"],
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        xAxis: {
          type: "category",
          axisTick: {
            show: false,
          },
          data: this.timeArr,
        },
        yAxis: {
          type: "value",
          axisTick: {
            show: false,
          },
        },
        series: [
          {
            name: "电网",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
            ],
          },
          {
            name: "光伏",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
            ],
          },
          {
            name: "储能堆",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
            ],
          },
        ],
      };
      myChart.setOption(option);
    },
    myCharts6() {
      let myChart = this.$echarts.init(document.getElementById("main6"));
      let option = {
        color: ["#9fdabf", "#e98f6f", "#6ab0b8"],
        tooltip: {
          trigger: "axis",
          axisPointer: {
            // 坐标轴指示器，坐标轴触发有效
            type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
          },
        },
        legend: {
          data: ["电网卖出", "光伏卖出", "储能堆卖出"],
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        xAxis: {
          type: "category",
          axisTick: {
            show: false,
          },
          data: this.timeArr,
        },
        yAxis: {
          type: "value",
          axisTick: {
            show: false,
          },
        },
        series: [
          {
            name: "电网卖出",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
              334,
              390,
              330,
              320,
              320,
              302,
              301,
            ],
          },
          {
            name: "光伏卖出",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
              134,
              90,
              230,
              210,
              120,
              132,
              101,
            ],
          },
          {
            name: "储能堆卖出",
            type: "bar",
            stack: "总量",
            label: {
              show: false,
              position: "insideRight",
            },
            barGap: "50%",
            barWidth: "50%",
            data: [
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
              167,
              195,
              165,
              160,
              160,
              151,
              150,
            ],
          },
        ],
      };
      myChart.setOption(option);
    },
  },
};
</script>
<style lang="scss">
.electricSource {
  background: #f2f7fa;
  padding: 20px;
  display: flex;
  .sub {
    background: #ffffff;
    margin-right: 10px;
    flex: 1;
    .title {
      height: 64px;
      line-height: 64px;
      font-size: 24px;
      text-align: center;
      border-bottom: 1px solid #dcdcdc;
      &:last-child {
        margin-right: 0px;
      }
    }
    .line {
      display: flex;
      flex-direction: column;
      .item {
        flex: 1;
        border-top: 1px solid #dcdcdc;
        .tit {
          padding: 0 20px;
          height: 40px;
          line-height: 40px;
          font-size: 18px;
        }
        .box {
          width: 100%;
          height: 320px;
        }
      }
    }
  }
}
</style>
